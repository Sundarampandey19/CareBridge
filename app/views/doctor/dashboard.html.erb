<div>
  <h1 class="font-bold text-4xl">Welcome to the Doctor Dashboard</h1>
  <p>Here you can see all your appointments:</p>
</div>

<% if @appointments.any? %>
  <table class="min-w-full border border-gray-300 mt-5">
    <thead>
      <tr>
        <th class="border-b px-4 py-2">Date</th>
        <th class="border-b px-4 py-2">Time</th>
        <th class="border-b px-4 py-2">Patient</th>
      </tr>
    </thead>
    <tbody>
      <% @appointments.each do |appointment| %>
        <tr>
          <td class="border-b px-4 py-2"><%= appointment.date.strftime("%B %d, %Y") %></td>
          <td class="border-b px-4 py-2"><%= appointment.time.strftime("%I:%M %p") %></td>
          <td class="border-b px-4 py-2"><%= User.find(appointment.patient_id).name %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% else %>
  <p class="mt-5">No appointments scheduled for you.</p>
<% end %>

<%= link_to destroy_user_session_path, data: { "turbo-method": :delete, "turbo-confirm": "Are you sure you want to sign out?" }, class: "block px-4 py-2 hover:rounded hover:bg-gray-700 mt-5" do %>
  <%= icon('fa-solid', 'sign-out', class: 'mr-2') %> <span class="hidden md:inline-block">Sign out</span>
<% end %>
