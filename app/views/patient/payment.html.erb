<div class="max-w-7xl mx-auto">
  <h1 class="text-center text-4xl font-bold mt-10 mb-8">Payment Page</h1>

  <div class="text-center mb-6">
    <h2 class="text-2xl font-semibold">Total Amount Due: <%= number_to_currency(@total_amount) %></h2>
  </div>

  <% if @appointments.any? %>
    <table class="min-w-full border border-gray-300 mb-8">
      <thead>
        <tr class="bg-gray-200">
          <th class="border px-4 py-2">Appointment Date</th>
          <th class="border px-4 py-2">Doctor</th>
          <th class="border px-4 py-2">Price</th>
        </tr>
      </thead>
      <tbody>
        <% @appointments.each do |appointment| %>
          <tr>
            <td class="border px-4 py-2"><%= appointment.created_at.strftime("%B %d, %Y") %></td>
            <td class="border px-4 py-2"><%= appointment.doctor.name %></td>
            <td class="border px-4 py-2"><%= number_to_currency(appointment.price) %></td>
          </tr>
        <% end %>
      </tbody>
    </table>

    <div class="text-center">
      <%= button_to 'Pay Now', process_payment_page_path, method: :post, class: "inline-block bg-green-500 text-white px-6 py-3 rounded shadow hover:bg-green-600 transition duration-200" %>
    </div>
  <% else %>
    <p class="text-center">You have no unpaid appointments.</p>
  <% end %>
</div>
